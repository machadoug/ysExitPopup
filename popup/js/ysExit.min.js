!function(e){"use strict";e.fn.ysExit=function(t){function n(){e("body").append('<div class="ys-layer"></div> <div class="ys-container" id="ys-container"><div class="ys-box"><a class="ys-popup-close" href="#">x</a><div class="ys-popup-content"></div></div></div>');return e(".ys-popup-content").append(s[0].outerHTML),s.hide(),!0}function i(e){var t={};return Object.keys(r).forEach(function(n){t[n]=e.hasOwnProperty(n)?e[n]:r[n]}),t}function o(e,t){return function(){t.apply(e,arguments)}}var s=this,r={width:"40%",height:"30%",target:"#ys-container",cookieValidity:1,closeOnOutsideClick:!0,delay:0,debug:!1},c=(n(),i(t)),d=document.querySelector(c.target),u=document.querySelector(".ys-layer"),a=document.querySelector(c.target+" .ys-popup-close"),l=document.querySelector(c.target+" .ys-box"),f=document.querySelector(c.target+" .ys-exit"),y={set:function(e,t,n){var i=[e+"="+t];if(n){var o=new Date;o.setTime(o.getTime()+24*n*3600*1e3),i.push("expires="+o.toGMTString())}i.push("path=/"),document.cookie=i.join("; ")},get:function(e){var t,n=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t++){var o=i[t].trim();if(0===o.indexOf(n))return o.substring(n.length)}return null}},m={active:!1,mouseLeftWindow:function(e){var t;e=e?e:window.event,t=e.relatedTarget||e.toElement,t&&"HTML"!==t.nodeName||m.open()},setDimension:function(e,t){-1===t.toString().indexOf("%")&&(t+="px"),l.style[e]=t},attachEvents:function(){function e(e){m.destroy(),e.preventDefault()}document.addEventListener("mouseout",m.mouseLeftWindow,!1),a.addEventListener("click",e),f&&f.addEventListener("click",e),c.closeOnOutsideClick&&(d.addEventListener("click",e),l.addEventListener("click",function(e){e.stopPropagation()})),this.active=!0},detachEvents:function(){document.removeEventListener("mouseout",m.mouseLeftWindow)},open:function(){var e=this;d.classList.add("visible"),u.classList.add("visible"),e.detachEvents(),setTimeout(function(){e.setDimension("width",c.width),e.setDimension("height","auto")},20),setTimeout(function(){d.classList.add("finished")},200)},destroy:function(){this.active&&(m.detachEvents(),setTimeout(function(){d.parentNode.removeChild(d),u.classList.remove("visible")},200),c.debug||y.set("ysExit",1,c.cookieValidity))}};if(!y.get('ysExit')){if("number"!=typeof c.delay)throw new Error("options.delay must be a numeric value");if(!d)throw new Error("Could not find element with selector: "+c.target);if(d.parentNode!==document.body)throw new Error(c.target+" element must be placed directly inside of the <body> element");setTimeout(o(m,m.attachEvents),c.delay)}return{open:o(m,m.open),destroy:o(m,m.destroy),getElement:function(){return d}}}}(jQuery);